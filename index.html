<!DOCTYPE html>
<html>
<head>
    <link href='https://fonts.googleapis.com/css?family=Sarpanch:800' rel='stylesheet' type='text/css'>
    <link href='style.css' rel='stylesheet' type='text/css'>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.28/angular.min.js"></script>
    <script src="js/main.js"></script>
</head>
<body ng-app="ciat">
    <h1><em>Baserock</em> <span>|</span> CIAT</h1>
    <div class="container" ng-controller="VisualisationController" ng-click="select()">
    <div class="visualisation">
        <div class="box"
             ng-class="{'pass': step.lastBuild.success, 'active': step.data.state == 'building', 'fail': step.lastBuild.failed}"
             ng-repeat="step in steps"
             ng-click="select(step, $event)">
            {{step.name}}
        </div>
        <br />
        <div class="detail"
             ng-show="selected"
             ng-click="$event.stopPropagation()">
            <h3>{{selected.name}}</h3>
            <div class="detail-contents">
                <p><strong>State:</strong> {{selected.data.state}}</p>
                <p><strong>Most Recent Logs:</strong></p>
                <ul>
                    <li ng-repeat="(key, value) in selected.lastBuild.logs">
                        <a ng-href="{{value[1]}}">{{key}} {{value[0]}}</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    </div>
</body>
</html>

